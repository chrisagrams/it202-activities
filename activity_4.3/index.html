<!DOCTYPE html>
<html>
   <head>
       <meta charset="UTF-8">
        <title>activity_4.3</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    </head>
    
    <body>
        
        <div id="template" class="card" style="width: 18rem;">
            <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
</div>
        
        <script>
            let apiEndpoint = "https://data.cityofchicago.org/resource/xzkq-xp2w.json?$LIMIT=100";
            
            fetch(apiEndpoint)
            .then(response => {return response.json()})
            .then(json => {for(let v in json){
                console.log(json[v]);
                let p = document.createElement("p");
                p.textContent= json[v].name;
//                 document.body.append(p);
                let card = document.getElementById("template");
                card.classList.remove("template");
                let cardClone = card.cloneNode(true);
                let cardBody = cardClone.childNodes[1];
                let cardTitle = cardBody.childNodes[1];
                let cardSubtitle = cardBody.childNodes[3];
                let cardText = cardBody.childNodes[5];
               
                cardTitle.textContent = json[v].name;
                cardSubtitle.textContent = json[v].department;
                cardText.textContent = "Salary: $" + json[v].annual_salary;
                document.body.append(cardClone);
            }
             let template = document.getElementById("template");
             template.parentNode.removeChild(template);})
            
            
            .catch(err => alert(err))
            
        </script>
    </body>
</html>
       
       
       